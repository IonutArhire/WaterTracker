#:kivy 1.10.1



<AddTBasedLayout1@BoxLayout>:
    padding: root.width * .15, root.height * .15
    spacing: 10

    _tl_text: 'default'
    _stopwatch_text: 'Stopwatch'

    DynamicTitleLabel:
        font_size: min(root.height, root.width) * .13
        text: root._tl_text

    BoxLayout:
        orientation: 'vertical'
        spacing: 10

        DynamicLabel:
            size_hint_y: None
            font_size: min(root.height, root.width) * .05
            text: 'Press the stopwatch below to start the timer:'

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            
            Button:
                size_hint: None, None
                width: min(root.height, root.width) * .5
                height: self.width

                -font_size: min(self.height, self.width) * .15

                text: root._stopwatch_text

                on_release: app.root._screen_manager._add_tbased_screen.on_click_stopwatch()


<AddTBasedLayout2@BoxLayout>:
    padding: root.width * .15, root.height * .15
    spacing: 10

    _tl_text: 'default'
    _stopwatch_result: 'default'
    _user_input: user_input

    DynamicTitleLabel:
        font_size: min(root.height, root.width) * .13
        text: root._tl_text

    BoxLayout:
        orientation: 'vertical'
        spacing: 10

        DynamicLabel:
            size_hint_y: None
            font_size: min(root.height, root.width) * .05
            text: root._stopwatch_result

        DynamicLabel:
            size_hint_y: None
            font_size: min(root.height, root.width) * .05
            text: 'Please input the approximative amount of water used per second (ml/s):'

        BoxLayout:
            spacing: self.parent.spacing

            TextInput:
                id: user_input
                multiline: False
                input_type: 'number'
                input_filter: 'int'

                hint_text: 'amount'

                size_hint_y: None
                height: max(root.height * .06, dp(30))

            Button:
                size_hint_y: None
                height: root.height * .1

                -font_size: min(self.height, self.width) * .4

                text: 'Save'

                on_release: app.root._screen_manager._add_tbased_screen.add()

            Widget: